---
title: "NRES 776 Lecture 4"
subtitle: "Data visualization"
author: Sunny Tseng
format:
  revealjs: 
    slide-number: true
    preview-links: auto
    #css: styles.css
    #footer: <https://quarto.org>
    theme: [default, styles.scss]
    #smaller: true
    #scrollable: true
    incremental: true
    embed-resources: true
    width: 1200
    fontsize: 1.7em
editor: visual
---

# Happy Tuesday!

## Our schedule today

-   Announcements and recap (5 min)

-   Data visualization background (10 min)

-   Plot types (30 min)

-   Wrap up (5 min)

## Announcements

-   Plans for the lab discussion paper presentation on Thursday

    -   3 presenters - 18 mins split room discussion - 2 mins wrap up

-   UNBC [Applied Analysis Hub](https://unbcaah.opened.ca/ta-office-hours/) workshop today!

-   How was your week?

### Recap

-   We collect sample to understand population

-   We use data from samples to answer ecological questions

-   How can show data by descriptive statistics

-   Can we do more?

# Data Visualization Background

Data visualization is the representation of data through use of common graphics, such as charts, plots, infographics, and even animations.

## Human brain is lazy

> The goal of data visualization in data analysis is to improve understanding of the data.

-   text \< table \<- plot

## Choose the right type of plot

## The art of choosing colours

## Label and axes (font size, starting point, be present)

## Correctness of your data (numbers add up and the proportion) 

## Make the comparison easy

## Keep it simple

-   le vs figures: human's brain is lazy

-   figures vs figures: use the figure best convey the message you want to elaborate

-   Make better use of colour, shape, transparent, line type, etc.

-   Concise, Accurate, Interpretable

-   Make them pretty! (selection of colour, size of the font, how to put several plots together, etc)

## Penguin data

```{r}
library(palmerpenguins)
library(tidyverse)
theme_set(theme_minimal())
```

```{r, echo = TRUE}
glimpse(penguins)
```

-   3 categorical variables

-   4 continuous variables

![](images/lter_penguins.png){.absolute top="200" right="0" width="620" height="450"}

::: aside
Artwork by @allison_horst
:::

# Plot Types: Histogram

## Histogram: basic

### 1 continuous variable

> A histogram is an approximate representation of the distribution of numberical data

```{r}
# Histogram example: flipper length by species
ggplot(data = penguins, aes(x = flipper_length_mm)) +
  geom_histogram(alpha = 0.5, position = "identity") 
```

## Histogram: add one more var

### 1 continuous variable

Add one more **categorical** variable by **facet** (e.g., `sex`)

```{r}
# Histogram example: flipper length by gender
ggplot(data = penguins %>% drop_na(sex), aes(x = flipper_length_mm)) +
  geom_histogram(alpha = 0.5, position = "identity") +
  facet_wrap(~sex)
```

Add one more **categorical** variable by changing **colour** (e.g., `species`)

```{r}
# Histogram example: flipper length by species
ggplot(data = penguins, aes(x = flipper_length_mm)) +
  geom_histogram(aes(fill = species), alpha = 0.5, position = "identity") +
  scale_fill_manual(values = c("darkorange","darkorchid","cyan4"))
```

# Plot Types: Bar Plot

## Bar plot: basic with 

### 1 categorical variable

> A bar plot, or bar chart, is a graph that presents categorical data with rectangular bars with heights or lengths proportional to the values that they represent

```{r}
ggplot(penguins, aes(x = island)) +
  geom_bar(alpha = 0.8) +
  theme_minimal() +
  coord_flip()
```

## Bar plot: add one more var by colour, grouped

Add one more **categorical** variable using **colour** and **facet** at the same time (e.g., `species`)

```{r}
ggplot(penguins, aes(x = island, fill = species)) +
  geom_bar(alpha = 0.8) +
  scale_fill_manual(values = c("darkorange","purple","cyan4"), 
                    guide = FALSE) +
  theme_minimal() +
  facet_wrap(~species, ncol = 1) +
  coord_flip()
```

## Bar plot: add one more var by colour, facet

## Bar plot: add one more var by colour, stacked

Add one more **categorical** variable using **colour**

## Bar plot: add one more var by colour, stacked %

Add one more **categorical** variable using **colour**

## Bar plot: add group information, stacked with % 

Add one more **categorical** variable using **colour**

# Plot Types: Scatter Plot

## Scatter plot: basic

### 2 continuous variables

# Plot Types: Box Plot

## Box plot: basic

## 1 categorical, and 1 continuous

## Get inspired by other people's work

## What we learned

-   Key concepts for scientific plot
-   Commonly used plot types (# of variables, type of variables)

## Wrap up

### Before we meet again

-   Submit your first lab on Moodle

### Next time

-   Thur. 8am lab, virtual on zoom
-   With your morning coffee/tea and relaxed mood
-   We will have some fun making plots
