---
title: "NRES 776 Lecture 4"
subtitle: "Data visualization"
author: Sunny Tseng
format:
  revealjs: 
    slide-number: true
    preview-links: auto
    #css: styles.css
    #footer: <https://quarto.org>
    theme: [default, styles.scss]
    #smaller: true
    #scrollable: true
    incremental: true
    #embed-resources: true
    width: 1200
    fontsize: 1.7em
editor: visual
---

# Happy Tuesday!

## Our schedule today

-   Announcements and recap (5 min)

-   Data visualization background (10 min)

-   Plot types (30 min)

-   Wrap up (5 min)

## Announcements

-   Plans for the discussion paper presentation on Thursday lab

    -   3 presenters - 18 mins split room discussion - 2 mins wrap up

-   UNBC [Applied Analysis Hub](https://unbcaah.opened.ca/ta-office-hours/) workshop today!

-   How was your week?

### Recap

-   We collect sample to understand population

-   We use data from samples to answer ecological questions

-   How can show data by descriptive statistics

-   Can we do more?

# Data Visualization Background

Data visualization is the representation of data through use of common graphics, such as charts, plots, infographics, and even animations.

## Human brain is lazy

> The goal of data visualization is to improve understanding of the data

-   text \< table \<- plot

## Right type of plot

> What's the message you want to say?

## Colours

> Colour blind audience, strong contrast but comfortable to read

## Label and axes

> Font size, starting axis from 0, or do you even have it?

## Correctness of your data

> The numbers should add up to 100%. Proportion should reflect the size/length, etc.

## Keep it simple

> One purpose, or key message, per plot

## Penguin data

```{r}
library(palmerpenguins)
library(tidyverse)
theme_set(theme_minimal())

penguins <- penguins %>%
  mutate(year = as.factor(year))
```

```{r, echo = TRUE}
glimpse(penguins)
```

-   3 categorical variables

-   4 continuous variables

![](images/lter_penguins.png){.absolute top="200" right="0" width="620" height="450"}

::: aside
Artwork by @allison_horst
:::

# Plot Types: Histogram

## Histogram: basic

### 1 continuous variable

> A histogram is an approximate representation of the distribution of numberical data

```{r}
# Histogram example: flipper length by species
ggplot(data = penguins, aes(x = flipper_length_mm)) +
  geom_histogram(alpha = 0.5, position = "identity") +
  theme(text = element_text(size = 24))
```

## Histogram: colour

Add one more **categorical** variable using **colour** (e.g., `species`)

::: columns
::: {.column width="50%"}
```{r}
# Histogram example: flipper length by species 
ggplot(data = penguins, aes(x = flipper_length_mm)) +   
  geom_histogram(alpha = 0.5, position = "identity") +   
  theme(text = element_text(size = 24))
```
:::

::: {.column width="50%"}
```{r}
# Histogram example: flipper length by species 
ggplot(data = penguins, aes(x = flipper_length_mm)) +   
  geom_histogram(aes(fill = species), 
                 alpha = 0.5, 
                 position = "identity") +   
  scale_fill_manual(values = c("darkorange","darkorchid","cyan4")) +   
  theme(text = element_text(size = 24))
```
:::
:::

## Histogram: facet

Add one more **categorical** variable using **colour**, with **facet** (e.g., `species`)

::: columns
::: {.column width="50%"}
```{r}
# Histogram example: flipper length by species
ggplot(data = penguins, aes(x = flipper_length_mm)) +
  geom_histogram(alpha = 0.5, position = "identity") +
  theme(text = element_text(size = 24))
```
:::

::: {.column width="50%"}
```{r}
# Histogram example: flipper length by gender
ggplot(data = penguins %>% drop_na(sex), 
       aes(x = flipper_length_mm)) +
  geom_histogram(aes(fill = species), 
                 alpha = 0.5, 
                 position = "identity") +
  scale_fill_manual(values = c("darkorange","darkorchid","cyan4")) +
  facet_wrap(~species) +
  theme(text = element_text(size = 24))
```
:::
:::

# Plot Types: Bar Plot

## Bar plot: basic

### 1 categorical variable

> A bar plot, or bar chart, is a graph that presents categorical data with rectangular bars with heights or lengths proportional to the values that they represent

```{r}
ggplot(penguins, aes(x = species)) +
  geom_bar(alpha = 0.8) +
  theme_minimal() +
  coord_flip() +
  theme(text = element_text(size = 24))
```

## Bar plot: grouped

Add one more **categorical** variable using **colour**, with **grouped** bars (e.g., `year`)

::: columns
::: {.column width="50%"}
```{r}
ggplot(penguins, aes(x = species)) +   
  geom_bar(alpha = 0.8) +   
  theme_minimal() +   
  coord_flip() +   
  theme(text = element_text(size = 24))
```
:::

::: {.column width="50%"}
```{r}
ggplot(penguins, aes(x = species, fill = year)) +   
  geom_bar(alpha = 0.8, position = "dodge2") +   
  #scale_fill_manual(values = c("darkorange","purple","cyan4"), guide = FALSE) +   
  theme_minimal() +   
  coord_flip() +   
  theme(text = element_text(size = 24))
```
:::
:::

## Bar plot: stacked

Add one more **categorical** variable using **colour**, with **stacked** bars (e.g., `year`)

::: columns
::: {.column width="50%"}
```{r}
ggplot(penguins, aes(x = species)) +      
  geom_bar(alpha = 0.8) +      
  theme_minimal() +      
  coord_flip() +      
  theme(text = element_text(size = 24))
```
:::

::: {.column width="50%"}
```{r}
ggplot(penguins, aes(x = species, fill = year)) +
  geom_bar(alpha = 0.8, position = "stack") +      #scale_fill_manual(values = c("darkorange","purple","cyan4"), guide = FALSE) +      
  theme_minimal() +      
  coord_flip() +      
  theme(text = element_text(size = 24))
```
:::
:::

## Bar plot: filled

Add one more **categorical** variable using **colour**, with **filled** bars (e.g., `year`)

::: columns
::: {.column width="50%"}
```{r}
ggplot(penguins, aes(x = species)) +         
  geom_bar(alpha = 0.8) +         
  theme_minimal() +         
  coord_flip() +         
  theme(text = element_text(size = 24))
```
:::

::: {.column width="50%"}
```{r}
ggplot(penguins, aes(x = species, fill = year)) +
  geom_bar(alpha = 0.8, position = "fill") +      #scale_fill_manual(values = c("darkorange","purple","cyan4"), guide = FALSE) +      
  theme_minimal() +      
  coord_flip() +      
  theme(text = element_text(size = 24))
```
:::
:::

## Bar plot: facet

Add one more **categorical** variable using **colour**, with **facet** (e.g., `year`)

::: columns
::: {.column width="50%"}
```{r}
ggplot(penguins, aes(x = species)) +   
  geom_bar(alpha = 0.8) +   
  theme_minimal() +   
  coord_flip() +   
  theme(text = element_text(size = 24))
```
:::

::: {.column width="50%"}
```{r}
ggplot(penguins, aes(x = species, fill = year)) +   
  geom_bar(alpha = 0.8) +   
  # scale_fill_manual(values = c("darkorange","purple","cyan4"), guide = FALSE) +   
  theme_minimal() +   
  facet_wrap(~year, ncol = 1) +   
  coord_flip() +   
  theme(text = element_text(size = 24))
```
:::
:::

# Plot Types: Scatter Plot

## Scatter plot: basic

### 2 continuous variables

> An explanation here

```{r}
# Scatterplot example 2: penguin bill length versus bill depth
ggplot(data = penguins, aes(x = bill_length_mm, y = bill_depth_mm)) +
  geom_point(aes(color = species, 
                 shape = species),
             size = 2)  +
  scale_color_manual(values = c("darkorange","darkorchid","cyan4"))
```

# Plot Types: Box Plot

## Box plot: basic

### 1 categorical, and 1 continuous variable

> An explanation here

## Get inspired by other people's work

## What we learned

-   Key concepts for scientific plot
-   Commonly used plot types (# of variables, type of variables)

## Wrap up

### Before we meet again

-   Submit your first lab on Moodle

### Next time

-   Thur. 8am lab, virtual on zoom
-   With your morning coffee/tea and relaxed mood
-   We will have some fun making plots
